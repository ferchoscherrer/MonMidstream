<core:FragmentDefinition 
    xmlns:rowmodes="sap.ui.table.rowmodes" 
    xmlns:t="sap.ui.table"
	xmlns="sap.m"
	xmlns:core="sap.ui.core">
    <Dialog 
        showHeader="false"
        contentHeight="70%"
        contentWidth="60%"
        draggable="true"
        resizable="true"
        afterClose=".onAfterCloseServicesFragment">
        <Page 
            showHeader="true" 
            showFooter="true"
            showSubHeader="true"
            title="{i18n>services}"
            class="sapUiResponsivePadding--content">
            <content>
                <t:TreeTable 
                    alternateRowColors="true"
                    busyIndicatorDelay="0"
                    enableColumnFreeze="true"
                    enableSelectAll="false"
                    enableColumnReordering="false"
                    showNoData="true"
                    selectionMode="None"
                    toggleOpenState=".onToggleOpenStateServices"
                    rows="{
                        path: 'mCreateOrder>services',
                        parameters: {
                            arrayNames: ['children']
                        }
                    }">
                    <t:rowMode>
                        <rowmodes:Auto  />
                    </t:rowMode>
                    <t:columns >
                        <t:Column width="13rem" hAlign="Center" >
                            <Text text="{i18n>pos}" />
                            <t:template >
                                <Text text="{path: 'mCreateOrder>ExtLine'}"/>
                            </t:template>
                        </t:Column>
                        <t:Column >
                            <Text text="{i18n>serviceNumber}"/>
                            <t:template >
                                <Text text="{path: 'mCreateOrder>Service'}"/>
                            </t:template>
                        </t:Column>
                        <t:Column width="13rem" >
                            <Text text="{i18n>description}"/>
                            <t:template >
                                <Text text="{path: 'mCreateOrder>ShortText'}" wrapping="false"/>
                            </t:template>
                        </t:Column>
                        <t:Column hAlign="End">
                            <Text text="{i18n>quantity}"/>
                            <t:template >
                                <Text text="{mCreateOrder>Quantity}" visible="{= !!${mCreateOrder>Service}}"/>
                            </t:template>
                        </t:Column>
                        <t:Column width="5rem" >
                            <Text text="{i18n>um}"/>
                            <t:template >
                                <Text text="{path: 'mCreateOrder>BaseUom'}"/>
                            </t:template>
                        </t:Column>
                        <t:Column hAlign="End">
                            <Text text="{i18n>netValue}"/>
                            <t:template>
                                <Text text="{
                                    path: 'mCreateOrder>NetValue',
                                    type: 'sap.ui.model.type.Float',
                                    formatOptions: {
                                        groupingEnabled: true,
                                        groupingSeparator: ',',
                                        decimalSeparator: '.',
                                        minFractionDigits: 2,
                                        maxFractionDigits: 2
                                    }
                                }" visible="{= !!${mCreateOrder>Service}}"/>
                            </t:template>
                        </t:Column>	
                        <t:Column >
                            <Text text="{i18n>itemGroup}"/>
                            <t:template >
                                <Text text="{path: 'mCreateOrder>MatlGroup'}"/>
                            </t:template>
                        </t:Column>
                    </t:columns>
                    <t:noData>
                        <IllustratedMessage
                            illustrationType="sapIllus-SimpleEmptyList"
                            enableVerticalResponsiveness="true"
                            title="{i18n>thereAreNotEntriesYetServices}"
                            description="{i18n>thereAreNotEntriesYetDescServices}"/>
                    </t:noData>
                </t:TreeTable>
            </content>
            <footer>
                <OverflowToolbar>
                    <ToolbarSpacer />
                    <Button text="{i18n>close}" type="Reject" icon="sap-icon://decline" press=".onCloseServicesFragment"/>
                </OverflowToolbar>
            </footer>
        </Page>
    </Dialog>
</core:FragmentDefinition>