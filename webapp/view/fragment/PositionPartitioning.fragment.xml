<core:FragmentDefinition xmlns:rowmodes="sap.ui.table.rowmodes" xmlns:table="sap.ui.table"
	xmlns="sap.m"
	xmlns:core="sap.ui.core">
    <Dialog 
        showHeader="false"
        contentHeight="55%"
        contentWidth="60%"
        draggable="true"
        resizable="true"
        afterClose=".oAfterClosenPositionPartitioning">
        <Page 
            showHeader="true" 
            showFooter="true"
            showSubHeader="true"
            title="{i18n>newPositions}"
            class="sapUiResponsivePadding--content">
            <subHeader>
                <OverflowToolbar style="Clear">
                    <FlexBox width="100%" justifyContent="Start">
                        <GenericTag text="{i18n>originalAmountPosition}" status="Success" class="sapUiTinyMarginBeginEnd">
                            <ObjectNumber 
                                number="{
                                    path:'mCreateOrder>/iNetValuePartititionByItem',
                                    type:'sap.ui.model.type.Float',
                                    formatOptions: {
                                        groupingEnabled: true,
                                        minFractionDigits: 2,
                                        maxFractionDigits: 2,
                                        groupingSeparator: '.',
                                        decimalSeparator: ','
                                    }
                                }"
                                unit="{mCreateOrder>/sUMBPartititionByItem}" 
                            />
                        </GenericTag>
                        <GenericTag text="{i18n>amountAssigned}" status="Information" class="sapUiTinyMarginBeginEnd">
                            <ObjectNumber 
                                number="{
                                    path:'mCreateOrder>/iCalculateModifiedValuePartititionByItem',
                                    type:'sap.ui.model.type.Float',
                                    formatOptions: {
                                        groupingEnabled: true,
                                        minFractionDigits: 2,
                                        maxFractionDigits: 2,
                                        groupingSeparator: '.',
                                        decimalSeparator: ','
                                    }
                                }" 
                                unit="{mCreateOrder>/sUMBPartititionByItem}" 
                            />
                        </GenericTag>
                        <GenericTag text="{i18n>originalOverrunAmount}" status="Error" class="sapUiTinyMarginBeginEnd">
                            <ObjectNumber 
                                number="{
                                    path:'mCreateOrder>/iCalculateAmountExceeded',
                                    type:'sap.ui.model.type.Float',
                                    formatOptions: {
                                        groupingEnabled: true,
                                        minFractionDigits: 2,
                                        maxFractionDigits: 2,
                                        groupingSeparator: '.',
                                        decimalSeparator: ','
                                    }
                                }" 
                                unit="{mCreateOrder>/sUMBPartititionByItem}" 
                            />
                        </GenericTag>
                    </FlexBox>
                </OverflowToolbar>
            </subHeader>
            <content>
                <table:Table 
                    class="sapUiSmallMarginTop" 
                    rows="{mCreateOrder>/arrPartitionByItem}"
                    alternateRowColors="true"
                    selectionMode="None" >
                    <table:rowMode>
                        <rowmodes:Auto />
                    </table:rowMode>
                    <table:columns>
                        <table:Column >
                            <Label text="{i18n>pos}" />
                            <table:template>
                                <Text wrapping="false" text="{mCreateOrder>ItmNumber}"/>
                            </table:template>
                        </table:Column>
                        <table:Column >
                            <Label text="{i18n>material}" />
                            <table:template>
                                <Text wrapping="false" text="{mCreateOrder>Material}"/>
                            </table:template>
                        </table:Column>
                        <table:Column >
                            <Label text="{i18n>quantity}" />
                            <table:template>
                                <Text wrapping="false" text="{mCreateOrder>TargetQty}"/>
                            </table:template>
                        </table:Column>
                        <table:Column >
                            <Label text="{i18n>umb}" />
                            <table:template>
                                <Text wrapping="false" text="{mCreateOrder>TargetQu}"/>
                            </table:template>
                        </table:Column>
                        <table:Column >
                            <Label text="{i18n>amount}" />
                            <table:template>
                                <Input
                                    change=".onCalculateAmountAssignedPartitionByItem"
                                    value="{
                                        path:'mCreateOrder>NetValue',
                                        type:'sap.ui.model.type.Float',
                                        formatOptions: {
                                            groupingEnabled: true,
                                            groupingSeparator: ',',
                                            decimalSeparator: '.',
                                            minFractionDigits: 2,
                                            maxFractionDigits: 2
                                        }
                                    }"
                                />
                            </table:template>
                        </table:Column>
                    </table:columns>
                    <table:noData>
                        <IllustratedMessage
                            illustrationType="sapIllus-SimpleNotFoundMagnifier"
                            enableVerticalResponsiveness="true"
                            title="{i18n>noResults}"
                            description="{i18n>noResultsDesc}"/>
                    </table:noData>
                </table:Table>
            </content>
            <footer>
                <OverflowToolbar>
                    <ToolbarSpacer />
                    <Button text="{i18n>divide}" enabled="{mCreateOrder>/oConfig/oAcctionTblItemPartition/enabled}" type="Accept" icon="sap-icon://split" press=".onPositionPartitioning" />
                    <Button text="{i18n>cancel}" type="Reject" icon="sap-icon://reset" press=".onClosenPositionPartitioning"/>
                </OverflowToolbar>
            </footer>
        </Page>
    </Dialog>
</core:FragmentDefinition>